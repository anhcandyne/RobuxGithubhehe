local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local camera = game.Workspace.CurrentCamera

-- Welcome GUI with Animation
local function showWelcomeGui()
    local welcomeGui = Instance.new("ScreenGui")
    welcomeGui.Name = "WelcomeGui"
    welcomeGui.ResetOnSpawn = false
    welcomeGui.Parent = playerGui

    local welcomeFrame = Instance.new("Frame", welcomeGui)
    welcomeFrame.Size = UDim2.new(0, 300, 0, 100)
    welcomeFrame.Position = UDim2.new(0.5, -150, 0.5, -50)
    welcomeFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    welcomeFrame.BackgroundTransparency = 1
    Instance.new("UICorner", welcomeFrame).CornerRadius = UDim.new(0, 16)

    local welcomeText = Instance.new("TextLabel", welcomeFrame)
    welcomeText.Size = UDim2.new(1, 0, 1, 0)
    welcomeText.BackgroundTransparency = 1
    welcomeText.Text = "√îng T√°m Hub\nPhi√™n b·∫£n 1.10 beta"
    welcomeText.TextColor3 = Color3.fromRGB(180, 220, 255)
    welcomeText.Font = Enum.Font.GothamBold
    welcomeText.TextSize = 24
    welcomeText.TextTransparency = 1
    welcomeText.TextWrapped = true
    welcomeText.TextYAlignment = Enum.TextYAlignment.Center

    local border = Instance.new("UIStroke", welcomeFrame)
    border.Color = Color3.fromRGB(100, 160, 255)
    border.Thickness = 2
    border.Transparency = 1

    -- Animation
    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    
    -- Fade in
    TweenService:Create(welcomeFrame, tweenInfo, {BackgroundTransparency = 0}):Play()
    TweenService:Create(welcomeText, tweenInfo, {TextTransparency = 0}):Play()
    TweenService:Create(border, tweenInfo, {Transparency = 0}):Play()

    -- Wait for 3 seconds
    task.wait(3)

    -- Fade out
    TweenService:Create(welcomeFrame, tweenInfo, {BackgroundTransparency = 1}):Play()
    TweenService:Create(welcomeText, tweenInfo, {TextTransparency = 1}):Play()
    TweenService:Create(border, tweenInfo, {Transparency = 1}):Play()

    -- Destroy after animation
    task.wait(0.5)
    welcomeGui:Destroy()
end

-- Run welcome GUI
showWelcomeGui()

-- T·∫°o ScreenGui ch√≠nh
local gui = Instance.new("ScreenGui")
gui.Name = "OngTamHub"
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true
gui.Parent = playerGui

-- Main Frame v·ªõi hi·ªáu ·ª©ng n∆∞·ªõc xanh ƒëen
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 400, 0, 60)
mainFrame.Position = UDim2.new(0.5, -200, 0.3, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = gui
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 16)

-- Gradient n∆∞·ªõc xanh ƒëen
local gradient = Instance.new("UIGradient", mainFrame)
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(10, 50, 80)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(5, 25, 40)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(15, 60, 90))
}
gradient.Rotation = 45

-- Border cho main frame
local mainBorder = Instance.new("UIStroke", mainFrame)
mainBorder.Color = Color3.fromRGB(0, 160, 255)
mainBorder.Thickness = 2
mainBorder.Transparency = 1

-- Ti√™u ƒë·ªÅ
local title = Instance.new("TextLabel", mainFrame)
title.Text = "√îng T√°m Ki·∫øm Chuy·ªán Hub"
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.TextColor3 = Color3.fromRGB(180, 220, 255)
title.BackgroundTransparency = 1
title.Size = UDim2.new(1, -100, 1, 0)
title.Position = UDim2.new(0, 20, 0, 0)
title.TextXAlignment = Enum.TextXAlignment.Left
title.ZIndex = 10

-- N√∫t toggle (k·∫øt h·ª£p M·ªü v√† ƒê√≥ng)
local toggleButton = Instance.new("TextButton", mainFrame)
toggleButton.Text = "M·ªü"
toggleButton.Size = UDim2.new(0, 40, 0, 40)
toggleButton.Position = UDim2.new(1, -90, 0, 10)
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextSize = 22
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
toggleButton.ZIndex = 10
Instance.new("UICorner", toggleButton).CornerRadius = UDim.new(0, 8)
local toggleStroke = Instance.new("UIStroke", toggleButton)
toggleStroke.Color = Color3.fromRGB(0, 160, 255)
toggleStroke.Thickness = 2

-- Content Frame
local contentFrame = Instance.new("Frame", mainFrame)
contentFrame.Position = UDim2.new(0, 0, 0, 60)
contentFrame.Size = UDim2.new(1, 0, 0, 0)
contentFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
contentFrame.ClipsDescendants = true
contentFrame.ZIndex = 1
Instance.new("UICorner", contentFrame).CornerRadius = UDim.new(0, 16)

local contentBorder = Instance.new("UIStroke", contentFrame)
contentBorder.Color = Color3.fromRGB(0, 160, 255)
contentBorder.Thickness = 2
contentBorder.Transparency = 1

-- Sidebar
local sideBar = Instance.new("Frame", contentFrame)
sideBar.Size = UDim2.new(0, 110, 1, 0)
sideBar.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
sideBar.ZIndex = 2
Instance.new("UICorner", sideBar).CornerRadius = UDim.new(0, 14)

local sideBarBorder = Instance.new("UIStroke", sideBar)
sideBarBorder.Color = Color3.fromRGB(0, 160, 255)
sideBarBorder.Thickness = 2
sideBarBorder.Transparency = 1

local layout = Instance.new("UIListLayout", sideBar)
layout.Padding = UDim.new(0, 6)
layout.FillDirection = Enum.FillDirection.Vertical
layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
layout.VerticalAlignment = Enum.VerticalAlignment.Top

-- Tab Content
local tabContent = Instance.new("Frame", contentFrame)
tabContent.Size = UDim2.new(1, -110, 1, 0)
tabContent.Position = UDim2.new(0, 110, 0, 0)
tabContent.BackgroundTransparency = 1
tabContent.ZIndex = 2

-- Danh s√°ch tab
local tabNames = {"Tele", "Script", "H∆∞·ªõng D·∫´n", "AI Chat"}

local function switchTab(name)
    for _, child in ipairs(tabContent:GetChildren()) do
        if child:IsA("Frame") then
            child.Visible = false
        end
    end
    if tabContent:FindFirstChild(name) then
        tabContent[name].Visible = true
    end
end

-- Function to show notification
local function showNotification(text)
    local notifGui = Instance.new("ScreenGui")
    notifGui.Name = "NotificationGui"
    notifGui.ResetOnSpawn = false
    notifGui.Parent = playerGui

    local notifFrame = Instance.new("Frame", notifGui)
    notifFrame.Size = UDim2.new(0, 300, 0, 50)
    notifFrame.Position = UDim2.new(0.5, -150, 0, -50)
    notifFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    notifFrame.BackgroundTransparency = 1
    Instance.new("UICorner", notifFrame).CornerRadius = UDim.new(0, 10)

    local notifText = Instance.new("TextLabel", notifFrame)
    notifText.Size = UDim2.new(1, 0, 1, 0)
    notifText.BackgroundTransparency = 1
    notifText.Text = text
    notifText.TextColor3 = Color3.fromRGB(180, 220, 255)
    notifText.Font = Enum.Font.GothamBold
    notifText.TextSize = 20
    notifText.TextTransparency = 1

    local notifTweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quint, Enum.EasingDirection.Out)

    -- Slide down and fade in
    TweenService:Create(notifFrame, notifTweenInfo, {Position = UDim2.new(0.5, -150, 0, 20), BackgroundTransparency = 0.2}):Play()
    TweenService:Create(notifText, notifTweenInfo, {TextTransparency = 0}):Play()

    task.wait(2)

    -- Slide up and fade out
    TweenService:Create(notifFrame, notifTweenInfo, {Position = UDim2.new(0.5, -150, 0, -50), BackgroundTransparency = 1}):Play()
    TweenService:Create(notifText, notifTweenInfo, {TextTransparency = 1}):Play()

    task.wait(0.5)
    notifGui:Destroy()
end

-- Logic Hitbox
local HitboxActive = false
local function toggleHitbox()
    HitboxActive = not HitboxActive
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local part = plr.Character.HumanoidRootPart
            if HitboxActive then
                part.Size = Vector3.new(50, 50, 50)
                part.Transparency = 0.75
                part.Material = Enum.Material.Neon
                part.CanCollide = false
            else
                part.Size = Vector3.new(2, 2, 1)
                part.Transparency = 1
                part.Material = Enum.Material.Plastic
            end
        end
    end
    return HitboxActive
end

-- Logic Aimbot
local AimbotActive = false
local aimbotConnection
local function getClosestPlayer()
    local closestPlayer = nil
    local closestDistance = math.huge
    local playerPos = player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player.Character.HumanoidRootPart.Position
    if not playerPos then return nil end

    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") and plr.Character:FindFirstChildOfClass("Humanoid") and plr.Character.Humanoid.Health > 0 then
            local targetPos = plr.Character.HumanoidRootPart.Position
            local distance = (playerPos - targetPos).Magnitude
            if distance < closestDistance then
                closestDistance = distance
                closestPlayer = plr
            end
        end
    end
    return closestPlayer
end

local function toggleAimbot()
    AimbotActive = not AimbotActive
    if AimbotActive then
        aimbotConnection = RunService.RenderStepped:Connect(function()
            local target = getClosestPlayer()
            if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                camera.CFrame = CFrame.new(camera.CFrame.Position, target.Character.HumanoidRootPart.Position)
            end
        end)
    else
        if aimbotConnection then
            aimbotConnection:Disconnect()
            aimbotConnection = nil
        end
    end
    return AimbotActive
end

-- Logic ESP
local ESPActive = false
local ESPTags = {}
local espUpdateConnection
local function updateESP()
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= player and ESPTags[plr] and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") and plr.Character:FindFirstChildOfClass("Humanoid") and plr.Character.Humanoid.Health > 0 then
            local highlight = ESPTags[plr]
            highlight.Adornee = plr.Character
        else
            if ESPTags[plr] then
                ESPTags[plr]:Destroy()
                ESPTags[plr] = nil
            end
        end
    end
end

local function toggleESP()
    ESPActive = not ESPActive
    if ESPActive then
        updateESP()
        if not espUpdateConnection then
            espUpdateConnection = RunService.RenderStepped:Connect(updateESP)
        end
    else
        for _, highlight in pairs(ESPTags) do
            highlight:Destroy()
        end
        ESPTags = {}
        if espUpdateConnection then
            espUpdateConnection:Disconnect()
            espUpdateConnection = nil
        end
    end
    return ESPActive
end

-- T·∫°o c√°c tab
for _, tab in ipairs(tabNames) do
    local btn = Instance.new("TextButton")
    btn.Text = tab
    btn.Size = UDim2.new(1, -10, 0, 36)
    btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    btn.Font = Enum.Font.GothamBold
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextSize = 16
    btn.ZIndex = 3
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)
    local btnStroke = Instance.new("UIStroke", btn)
    btnStroke.Color = Color3.fromRGB(0, 160, 255)
    btn.Parent = sideBar

    btn.MouseButton1Click:Connect(function()
        switchTab(tab)
    end)

    local content = Instance.new("Frame")
    content.Name = tab
    content.Size = UDim2.new(1, 0, 1, 0)
    content.BackgroundTransparency = 1
    content.Visible = false
    content.ZIndex = 3
    content.Parent = tabContent

    if tab == "Script" then
        -- List layout for vertical button arrangement
        local buttonLayout = Instance.new("UIListLayout", content)
        buttonLayout.Padding = UDim.new(0, 10)
        buttonLayout.FillDirection = Enum.FillDirection.Vertical
        buttonLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
        buttonLayout.VerticalAlignment = Enum.VerticalAlignment.Top

        -- N√∫t Hitbox
        local hitboxBtn = Instance.new("TextButton", content)
        hitboxBtn.Text = "M·ªü GUI Hitbox Ri√™ng"
        hitboxBtn.Size = UDim2.new(0, 150, 0, 40)
        hitboxBtn.Position = UDim2.new(0, 10, 0, 10)
        hitboxBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        hitboxBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        hitboxBtn.Font = Enum.Font.GothamBold
        hitboxBtn.TextSize = 16
        Instance.new("UICorner", hitboxBtn).CornerRadius = UDim.new(0, 8)
        local hitboxBtnStroke = Instance.new("UIStroke", hitboxBtn)
        hitboxBtnStroke.Color = Color3.fromRGB(0, 160, 255)

        local hitboxTip = Instance.new("TextLabel", content)
        hitboxTip.Text = "khi k·∫ª th√π s·∫Øp d·∫≠y th√¨ b·∫≠t t·∫Øt l·∫°i"
        hitboxTip.Size = UDim2.new(0, 150, 0, 20)
        hitboxTip.Position = UDim2.new(0, 10, 0, 55)
        hitboxTip.BackgroundTransparency = 1
        hitboxTip.TextColor3 = Color3.fromRGB(150, 150, 150)
        hitboxTip.Font = Enum.Font.Gotham
        hitboxTip.TextSize = 12
        hitboxTip.TextXAlignment = Enum.TextXAlignment.Left

        hitboxBtn.MouseButton1Click:Connect(function()
            showNotification("GUI Hitbox ƒê√£ M·ªü")
            local hitboxGui = Instance.new("ScreenGui")
            hitboxGui.Name = "HitboxGUI"
            hitboxGui.ResetOnSpawn = false
            hitboxGui.Parent = playerGui

            local frame = Instance.new("Frame", hitboxGui)
            frame.Size = UDim2.new(0, 150, 0, 100)
            frame.Position = UDim2.new(0.5, -75, 0.5, -50)
            frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
            frame.Active = true
            frame.Draggable = true
            Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

            local title = Instance.new("TextLabel", frame)
            title.Text = "GUI Hitbox"
            title.Size = UDim2.new(1, 0, 0, 30)
            title.BackgroundTransparency = 1
            title.TextColor3 = Color3.fromRGB(255, 255, 255)
            title.Font = Enum.Font.GothamBold
            title.TextSize = 16
            title.TextXAlignment = Enum.TextXAlignment.Center

            local toggleBtn = Instance.new("TextButton", frame)
            toggleBtn.Text = "Hitbox: T·∫Øt"
            toggleBtn.Size = UDim2.new(0, 120, 0, 40)
            toggleBtn.Position = UDim2.new(0.5, -60, 0, 40)
            toggleBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
            toggleBtn.Font = Enum.Font.GothamBold
            toggleBtn.TextSize = 16
            Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0, 8)
            local toggleBtnStroke = Instance.new("UIStroke", toggleBtn)
            toggleBtnStroke.Color = Color3.fromRGB(0, 160, 255)

            toggleBtn.MouseButton1Click:Connect(function()
                local isActive = toggleHitbox()
                toggleBtn.Text = isActive and "Hitbox: B·∫≠t" or "Hitbox: T·∫Øt"
            end)
        end)

        -- N√∫t Aimbot
        local aimbotBtn = Instance.new("TextButton", content)
        aimbotBtn.Text = "M·ªü GUI Aimbot"
        aimbotBtn.Size = UDim2.new(0, 150, 0, 40)
        aimbotBtn.Position = UDim2.new(0, 10, 0, 80)
        aimbotBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        aimbotBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        aimbotBtn.Font = Enum.Font.GothamBold
        aimbotBtn.TextSize = 16
        Instance.new("UICorner", aimbotBtn).CornerRadius = UDim.new(0, 8)
        local aimbotBtnStroke = Instance.new("UIStroke", aimbotBtn)
        aimbotBtnStroke.Color = Color3.fromRGB(0, 160, 255)

        aimbotBtn.MouseButton1Click:Connect(function()
            showNotification("GUI Aimbot ƒê√£ M·ªü")
            local aimbotGui = Instance.new("ScreenGui")
            aimbotGui.Name = "AimbotGUI"
            aimbotGui.ResetOnSpawn = false
            aimbotGui.Parent = playerGui

            local frame = Instance.new("Frame", aimbotGui)
            frame.Size = UDim2.new(0, 150, 0, 100)
            frame.Position = UDim2.new(0.5, -75, 0.5, 150)
            frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
            frame.Active = true
            frame.Draggable = true
            Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

            local title = Instance.new("TextLabel", frame)
            title.Text = "GUI Aimbot"
            title.Size = UDim2.new(1, 0, 0, 30)
            title.BackgroundTransparency = 1
            title.TextColor3 = Color3.fromRGB(255, 255, 255)
            title.Font = Enum.Font.GothamBold
            title.TextSize = 16
            title.TextXAlignment = Enum.TextXAlignment.Center

            local toggleBtn = Instance.new("TextButton", frame)
            toggleBtn.Text = "Aimbot: T·∫Øt"
            toggleBtn.Size = UDim2.new(0, 120, 0, 40)
            toggleBtn.Position = UDim2.new(0.5, -60, 0, 40)
            toggleBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
            toggleBtn.Font = Enum.Font.GothamBold
            toggleBtn.TextSize = 16
            Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0, 8)
            local toggleBtnStroke = Instance.new("UIStroke", toggleBtn)
            toggleBtnStroke.Color = Color3.fromRGB(0, 160, 255)

            toggleBtn.MouseButton1Click:Connect(function()
                local isActive = toggleAimbot()
                toggleBtn.Text = isActive and "Aimbot: B·∫≠t" or "Aimbot: T·∫Øt"
            end)
        end)

        -- N√∫t ESP Tagger
        local espBtn = Instance.new("TextButton", content)
        espBtn.Text = "M·ªü GUI ESP Tagger"
        espBtn.Size = UDim2.new(0, 150, 0, 40)
        espBtn.Position = UDim2.new(0, 10, 0, 130)
        espBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        espBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        espBtn.Font = Enum.Font.GothamBold
        espBtn.TextSize = 16
        Instance.new("UICorner", espBtn).CornerRadius = UDim.new(0, 8)
        local espBtnStroke = Instance.new("UIStroke", espBtn)
        espBtnStroke.Color = Color3.fromRGB(0, 160, 255)

        espBtn.MouseButton1Click:Connect(function()
            showNotification("GUI ESP Tagger ƒê√£ M·ªü")
            local espGui = Instance.new("ScreenGui")
            espGui.Name = "ESPGUI"
            espGui.ResetOnSpawn = false
            espGui.Parent = playerGui

            local frame = Instance.new("Frame", espGui)
            frame.Size = UDim2.new(0, 200, 0, 100)
            frame.Position = UDim2.new(0.5, -100, 0.5, -50)
            frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
            frame.Active = true
            frame.Draggable = true
            Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

            local title = Instance.new("TextLabel", frame)
            title.Text = "GUI ESP Tagger"
            title.Size = UDim2.new(1, 0, 0, 30)
            title.BackgroundTransparency = 1
            title.TextColor3 = Color3.fromRGB(255, 255, 255)
            title.Font = Enum.Font.GothamBold
            title.TextSize = 16
            title.TextXAlignment = Enum.TextXAlignment.Center

            local toggleBtn = Instance.new("TextButton", frame)
            toggleBtn.Name = "toggleESPBtn"
            toggleBtn.Text = "ESP: T·∫Øt"
            toggleBtn.Size = UDim2.new(0, 120, 0, 40)
            toggleBtn.Position = UDim2.new(0.5, -60, 0, 40)
            toggleBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
            toggleBtn.Font = Enum.Font.GothamBold
            toggleBtn.TextSize = 16
            Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0, 8)
            local toggleBtnStroke = Instance.new("UIStroke", toggleBtn)
            toggleBtnStroke.Color = Color3.fromRGB(0, 160, 255)

            local playerList = Instance.new("ScrollingFrame", frame)
            playerList.Name = "playerList"
            playerList.Size = UDim2.new(1, -10, 0, 0)
            playerList.Position = UDim2.new(0, 5, 0, 90)
            playerList.BackgroundTransparency = 1
            playerList.ScrollBarThickness = 4
            playerList.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)
            playerList.ZIndex = 5
            playerList.Visible = false
            playerList.CanvasSize = UDim2.new(0, 0, 0, 0)

            local listLayout = Instance.new("UIListLayout", playerList)
            listLayout.Padding = UDim.new(0, 5)
            listLayout.SortOrder = Enum.SortOrder.LayoutOrder

            local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

            local function updatePlayerList()
                for _, child in ipairs(playerList:GetChildren()) do
                    if child:IsA("TextButton") then
                        child:Destroy()
                    end
                end
                local count = 0
                for _, plr in ipairs(Players:GetPlayers()) do
                    if plr ~= player then
                        count = count + 1
                        local btn = Instance.new("TextButton")
                        btn.Size = UDim2.new(1, -10, 0, 30)
                        btn.BackgroundColor3 = ESPTags[plr] and Color3.fromRGB(255, 0, 0) or Color3.fromRGB(40, 40, 40)
                        btn.Text = plr.Name
                        btn.TextColor3 = Color3.fromRGB(255, 255, 255)
                        btn.Font = Enum.Font.Gotham
                        btn.TextSize = 14
                        btn.LayoutOrder = count
                        btn.ZIndex = 6
                        Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
                        btn.Parent = playerList

                        btn.MouseButton1Click:Connect(function()
                            if ESPTags[plr] then
                                ESPTags[plr]:Destroy()
                                ESPTags[plr] = nil
                                btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
                            else
                                for otherPlr, highlight in pairs(ESPTags) do
                                    highlight:Destroy()
                                    ESPTags[otherPlr] = nil
                                    for _, child in ipairs(playerList:GetChildren()) do
                                        if child:IsA("TextButton") and child.Text == otherPlr.Name then
                                            child.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
                                        end
                                    end
                                end
                                local highlight = Instance.new("Highlight")
                                highlight.FillColor = Color3.fromRGB(255, 0, 0)
                                highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
                                highlight.Adornee = plr.Character
                                highlight.Parent = plr.Character
                                ESPTags[plr] = highlight
                                btn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
                            end
                        end)
                    end
                end
                playerList.CanvasSize = UDim2.new(0, 0, 0, count * 35)
                if ESPActive then
                    TweenService:Create(frame, tweenInfo, {Size = UDim2.new(0, 200, 0, 300)}):Play()
                end
            end

            toggleBtn.MouseButton1Click:Connect(function()
                local isActive = toggleESP()
                toggleBtn.Text = isActive and "ESP: B·∫≠t" or "ESP: T·∫Øt"
                if isActive then
                    playerList.Visible = true
                    TweenService:Create(playerList, tweenInfo, {Size = UDim2.new(1, -10, 0, 200)}):Play()
                    TweenService:Create(frame, tweenInfo, {Size = UDim2.new(0, 200, 0, 300)}):Play()
                    updatePlayerList()
                else
                    TweenService:Create(playerList, tweenInfo, {Size = UDim2.new(1, -10, 0, 0)}):Play()
                    TweenService:Create(frame, tweenInfo, {Size = UDim2.new(0, 200, 0, 100)}):Play()
                    task.wait(0.3)
                    playerList.Visible = false
                end
            end)

            Players.PlayerAdded:Connect(updatePlayerList)
            Players.PlayerRemoving:Connect(updatePlayerList)
            updatePlayerList()
        end)
    elseif tab == "H∆∞·ªõng D·∫´n" then
        local guideLabel = Instance.new("TextLabel", content)
        guideLabel.Text = [[
Khi ƒë·ªãch s·∫Øp d·∫≠y th√¨ t·∫Øt hitbox r·ªìi b·∫≠t l·∫°i ƒë·ªÉ tr√°nh b·ªã ƒë·∫©y nha c√°c t√¨nh y√™u! üòô
Tiktok: ongtamkiemchuyen
Phi√™n b·∫£n: Beta 1.0
]]
        guideLabel.Size = UDim2.new(1, -20, 0, 80)
        guideLabel.Position = UDim2.new(0, 10, 0, 10)
        guideLabel.TextWrapped = true
        guideLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
        guideLabel.Font = Enum.Font.Gotham
        guideLabel.TextSize = 14
        guideLabel.BackgroundTransparency = 1
        guideLabel.TextYAlignment = Enum.TextYAlignment.Top
        guideLabel.ZIndex = 4

        -- Ph·∫ßn g√≥p √Ω √Ω ki·∫øn ƒë·∫πp h∆°n
        -- üìå Webhook c·ªßa b·∫°n
local webhookURL = "https://discord.com/api/webhooks/1405714256023781498/QUpX9impla2qZaJTJgoQKnPksb8M71F1fMdfdPl8I1uFdOTzJKfFDajT2i6PYhthVJBm"
local player = game.Players.LocalPlayer
local HttpService = game:GetService("HttpService")

-- üõ† Cooldown
local cooldown = false
local cooldownTime = 15 -- gi√¢y

-- üñº T·∫°o UI
local feedbackTitle = Instance.new("TextLabel", content)
feedbackTitle.Text = "G√≥p √ù √ù Ki·∫øn"
feedbackTitle.Size = UDim2.new(1, -20, 0, 30)
feedbackTitle.Position = UDim2.new(0, 10, 0, 100)
feedbackTitle.TextColor3 = Color3.fromRGB(180, 220, 255)
feedbackTitle.Font = Enum.Font.GothamBold
feedbackTitle.TextSize = 18
feedbackTitle.BackgroundTransparency = 1
feedbackTitle.TextXAlignment = Enum.TextXAlignment.Left
feedbackTitle.ZIndex = 4

local feedbackBox = Instance.new("TextBox", content)
feedbackBox.PlaceholderText = "Nh·∫≠p g√≥p √Ω c·ªßa b·∫°n v√°o ƒë√¢y... "
feedbackBox.Size = UDim2.new(1, -20, 0, 80)
feedbackBox.Position = UDim2.new(0, 10, 0, 130)
feedbackBox.BackgroundColor3 = Color3.fromRGB(32, 33, 35)
feedbackBox.TextColor3 = Color3.fromRGB(255, 255, 255)
feedbackBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
feedbackBox.Font = Enum.Font.Gotham
feedbackBox.TextSize = 14
feedbackBox.TextWrapped = true
feedbackBox.MultiLine = true
feedbackBox.ClearTextOnFocus = false
Instance.new("UICorner", feedbackBox).CornerRadius = UDim.new(0, 8)
local feedbackStroke = Instance.new("UIStroke", feedbackBox)
feedbackStroke.Color = Color3.fromRGB(0, 160, 255)
feedbackStroke.Thickness = 1
feedbackStroke.Transparency = 0.5

local sendFeedbackBtn = Instance.new("TextButton", content)
sendFeedbackBtn.Text = "G·ª≠i G√≥p √ù "
sendFeedbackBtn.Size = UDim2.new(0, 150, 0, 40)
sendFeedbackBtn.Position = UDim2.new(0.5, -75, 0, 220)
sendFeedbackBtn.BackgroundColor3 = Color3.fromRGB(16, 163, 127)
sendFeedbackBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
sendFeedbackBtn.Font = Enum.Font.GothamBold
sendFeedbackBtn.TextSize = 16
Instance.new("UICorner", sendFeedbackBtn).CornerRadius = UDim.new(0, 8)
local sendStroke = Instance.new("UIStroke", sendFeedbackBtn)
sendStroke.Color = Color3.fromRGB(0, 160, 255)
sendStroke.Thickness = 1
sendStroke.Transparency = 0.5

-- üì§ G·ª≠i g√≥p √Ω
sendFeedbackBtn.MouseButton1Click:Connect(function()
    if cooldown then
        showNotification("Chill ƒëi bro, ch·ªù 15s anti spam!")
        return
    end

    local message = feedbackBox.Text:gsub("^%s*(.-)%s*$", "%1")
    if message ~= "" then
        local payload = HttpService:JSONEncode({
            content = "ü§å**G√≥p √Ω t·ª´** `" .. player.Name .. "`: " .. message
        })

        local success, err = pcall(function()
            request({
                Url = webhookURL,
                Method = "POST",
                Headers = {["Content-Type"] = "application/json"},
                Body = payload
            })
        end)

        if success then
            showNotification("‚úÖ G√≥p √Ω ƒë√£ g·ª≠i, t√°m thankskiu")
            feedbackBox.Text = ""
            cooldown = true
            sendFeedbackBtn.Text = "Ch·ªù 15s anti spam... "
            sendFeedbackBtn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
            task.delay(cooldownTime, function()
                cooldown = false
                sendFeedbackBtn.Text = "G·ª≠i G√≥p √ù"
                sendFeedbackBtn.BackgroundColor3 = Color3.fromRGB(16, 163, 127)
            end)
        else
            showNotification("‚ùå L·ªói khi g·ª≠i: " .. tostring(err))
        end
    else
        showNotification("‚ö†Ô∏è Nh·∫≠p g√¨ ƒë√≥ ƒëi bro!")
    end
end)
    elseif tab == "Tele" then
        local buttonLayout = Instance.new("UIListLayout", content)
        buttonLayout.Padding = UDim.new(0, 10)
        buttonLayout.FillDirection = Enum.FillDirection.Vertical
        buttonLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
        buttonLayout.VerticalAlignment = Enum.VerticalAlignment.Top

        -- Function chung cho anti-ban teleport (s·ª≠ d·ª•ng tween ƒë·ªÉ di chuy·ªÉn m∆∞·ª£t)
        local function safeTeleport(targetCFrame, locationName)
            local rootPart = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
            if rootPart and player.Character.Humanoid.Health > 0 then
                local tweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Linear, Enum.EasingDirection.Out) -- Duration 0.1s cho si√™u nhanh
                local tween = TweenService:Create(rootPart, tweenInfo, {CFrame = targetCFrame})
                tween:Play()
                tween.Completed:Connect(function()
                    showNotification("ƒê√£ tele t·ªõi " .. locationName .. " th√†nh c√¥ng! üöÄ")
                end)
            else
                showNotification("Char ko ready, th·ª≠ l·∫°i sau! ‚ùå")
            end
        end

        -- N√∫t Tele t·ªõi KFC
        local teleKFCBtn = Instance.new("TextButton", content)
        teleKFCBtn.Text = "Tele t·ªõi KFC"
        teleKFCBtn.Size = UDim2.new(0, 150, 0, 40)
        teleKFCBtn.Position = UDim2.new(0, 10, 0, 10)
        teleKFCBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        teleKFCBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        teleKFCBtn.Font = Enum.Font.GothamBold
        teleKFCBtn.TextSize = 16
        Instance.new("UICorner", teleKFCBtn).CornerRadius = UDim.new(0, 8)
        local teleKFCBtnStroke = Instance.new("UIStroke", teleKFCBtn)
        teleKFCBtnStroke.Color = Color3.fromRGB(0, 160, 255)

        teleKFCBtn.MouseButton1Click:Connect(function()
            safeTeleport(CFrame.new(47.3, 10.2, -98.4), "KFC")
        end)

        -- N√∫t Tele t·ªõi ch·ªó h·ªìi Blue
        local teleBlueBtn = Instance.new("TextButton", content)
        teleBlueBtn.Text = "Tele t·ªõi ch·ªó h·ªìi Blue"
        teleBlueBtn.Size = UDim2.new(0, 150, 0, 40)
        teleBlueBtn.Position = UDim2.new(0, 10, 0, 60)
        teleBlueBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        teleBlueBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        teleBlueBtn.Font = Enum.Font.GothamBold
        teleBlueBtn.TextSize = 16
        Instance.new("UICorner", teleBlueBtn).CornerRadius = UDim.new(0, 8)
        local teleBlueBtnStroke = Instance.new("UIStroke", teleBlueBtn)
        teleBlueBtnStroke.Color = Color3.fromRGB(0, 160, 255)

        teleBlueBtn.MouseButton1Click:Connect(function()
            safeTeleport(CFrame.new(11.4, 9.2, -351.6), "ch·ªó h·ªìi Blue")
        end)

        -- N√∫t Tele tr·ªën tr√™n n√∫i
        local teleMountainBtn = Instance.new("TextButton", content)
        teleMountainBtn.Text = "Tele tr·ªën tr√™n n√∫i"
        teleMountainBtn.Size = UDim2.new(0, 150, 0, 40)
        teleMountainBtn.Position = UDim2.new(0, 10, 0, 110)
        teleMountainBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        teleMountainBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        teleMountainBtn.Font = Enum.Font.GothamBold
        teleMountainBtn.TextSize = 16
        Instance.new("UICorner", teleMountainBtn).CornerRadius = UDim.new(0, 8)
        local teleMountainBtnStroke = Instance.new("UIStroke", teleMountainBtn)
        teleMountainBtnStroke.Color = Color3.fromRGB(0, 160, 255)

        teleMountainBtn.MouseButton1Click:Connect(function()
            safeTeleport(CFrame.new(195.8, 89.6, 489.6), "tr·ªën tr√™n n√∫i")
        end)

        -- N√∫t Tele t·ªõi ƒë·ªãa ƒëi·ªÉm b√≠ ·∫©n???
        local teleMysteryBtn = Instance.new("TextButton", content)
        teleMysteryBtn.Text = "Tele t·ªõi ƒë·ªãa ƒëi·ªÉm b√≠ ·∫©n???"
        teleMysteryBtn.Size = UDim2.new(0, 150, 0, 40)
        teleMysteryBtn.Position = UDim2.new(0, 10, 0, 160)
        teleMysteryBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        teleMysteryBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        teleMysteryBtn.Font = Enum.Font.GothamBold
        teleMysteryBtn.TextSize = 16
        Instance.new("UICorner", teleMysteryBtn).CornerRadius = UDim.new(0, 8)
        local teleMysteryBtnStroke = Instance.new("UIStroke", teleMysteryBtn)
        teleMysteryBtnStroke.Color = Color3.fromRGB(0, 160, 255)

        teleMysteryBtn.MouseButton1Click:Connect(function()
            safeTeleport(CFrame.new(289.6, 7.0, -460.8), "ƒë·ªãa ƒëi·ªÉm b√≠ ·∫©n")
        end)
    else
        local label = Instance.new("TextLabel", content)
        label.Text = "Tab: " .. tab
        label.Size = UDim2.new(1, -20, 1, -20)
        label.Position = UDim2.new(0, 10, 0, 10)
        label.TextWrapped = true
        label.TextColor3 = Color3.fromRGB(200, 200, 200)
        label.Font = Enum.Font.Gotham
        label.TextSize = 20
        label.BackgroundTransparency = 1
        label.ZIndex = 4
    end
end

-- Tween Animation
local tweenInfo = TweenInfo.new(0.35, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local borderTweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local textTweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local isOpen = false

local function toggleMenu()
    if not isOpen then
        isOpen = true
        TweenService:Create(toggleButton, textTweenInfo, {TextTransparency = 1}):Play()
        task.wait(0.2)
        toggleButton.Text = "ƒê√≥ng"
        TweenService:Create(toggleButton, textTweenInfo, {TextTransparency = 0}):Play()
        TweenService:Create(toggleButton, tweenInfo, {Position = UDim2.new(1, -45, 0, 10)}):Play()
        TweenService:Create(toggleStroke, tweenInfo, {Color = Color3.fromRGB(255, 80, 80)}):Play()
        title.Visible = false
        TweenService:Create(mainBorder, borderTweenInfo, {Transparency = 0}):Play()
        TweenService:Create(mainFrame, tweenInfo, {Size = UDim2.new(0, 400, 0, 400)}):Play()
        TweenService:Create(contentFrame, tweenInfo, {Size = UDim2.new(1, 0, 0, 340)}):Play()
        task.wait(0.1)
        TweenService:Create(contentBorder, borderTweenInfo, {Transparency = 0}):Play()
        TweenService:Create(sideBarBorder, borderTweenInfo, {Transparency = 0}):Play()
        switchTab("Script")
    else
        isOpen = false
        TweenService:Create(toggleButton, textTweenInfo, {TextTransparency = 1}):Play()
        task.wait(0.2)
        toggleButton.Text = "M·ªü"
        TweenService:Create(toggleButton, textTweenInfo, {TextTransparency = 0}):Play()
        TweenService:Create(toggleButton, tweenInfo, {Position = UDim2.new(1, -90, 0, 10)}):Play()
        TweenService:Create(toggleStroke, tweenInfo, {Color = Color3.fromRGB(0, 160, 255)}):Play()
        title.Visible = true
        TweenService:Create(contentBorder, borderTweenInfo, {Transparency = 1}):Play()
        TweenService:Create(sideBarBorder, borderTweenInfo, {Transparency = 1}):Play()
        TweenService:Create(contentFrame, tweenInfo, {Size = UDim2.new(1, 0, 0, 0)}):Play()
        TweenService:Create(mainFrame, tweenInfo, {Size = UDim2.new(0, 400, 0, 60)}):Play()
        task.delay(0.35, function()
            TweenService:Create(mainBorder, borderTweenInfo, {Transparency = 1}):Play()
        end)
    end
end

toggleButton.MouseButton1Click:Connect(toggleMenu)

-- Anti-kick
local mt = getrawmetatable(game)
local oldNamecall = mt.__namecall
setreadonly(mt, false)
mt.__namecall = function(self, ...)
    local method = getnamecallmethod()
    if (method == "Kick" or method == "kick") and self == player then
        warn("B·ªçn n√≥ ƒë·ªãnh kick m√†y, nh∆∞ng tao ch·∫∑n r·ªìi nha! üòé")
        return
    end
    return oldNamecall(self, ...)
end
setreadonly(mt, true)

-- Respawn x·ª≠ l√Ω
player.CharacterAdded:Connect(function(character)
    if HitboxActive then
        toggleHitbox()
        task.wait(0.5)
        toggleHitbox()
    end
    if AimbotActive then
        toggleAimbot()
        task.wait(0.5)
        toggleAimbot()
    end
    if ESPActive then
        toggleESP()
        task.wait(0.5)
        toggleESP()
    end
end)
